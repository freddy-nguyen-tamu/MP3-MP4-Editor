<!DOCTYPE html>
<html>
<head>
    <title>Test Electron API</title>
</head>
<body>
    <h1>Testing Electron API</h1>
    <button id="testBtn">Test Open Files</button>
    <pre id="output"></pre>
    
    <script>
        const output = document.getElementById('output');
        const testBtn = document.getElementById('testBtn');
        
        // Check if API exists
        output.textContent = 'Checking API...\n';
        output.textContent += 'window.electronAPI exists: ' + (typeof window.electronAPI !== 'undefined') + '\n';
        
        if (window.electronAPI) {
            output.textContent += 'openFilesDialog exists: ' + (typeof window.electronAPI.openFilesDialog === 'function') + '\n';
            output.textContent += 'All API methods:\n' + Object.keys(window.electronAPI).join('\n') + '\n';
            
            testBtn.addEventListener('click', async () => {
                output.textContent += '\nTesting openFilesDialog...\n';
                try {
                    const files = await window.electronAPI.openFilesDialog();
                    output.textContent += 'Result: ' + JSON.stringify(files, null, 2);
                } catch (err) {
                    output.textContent += 'Error: ' + err.message;
                }
            });
        } else {
            output.textContent += '\n‚ùå electronAPI is NOT available!\n';
            output.textContent += 'This means the preload script is not working.\n';
        }
    </script>
</body>
</html>
